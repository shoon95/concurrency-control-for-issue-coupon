

** TODO 리스트:**

# 1. 기본 환경 및 문제 확인

-[ ]  이벤트 기반 쿠폰 발행 로직 설계 (핵심 로직과 후처리 분리)
    - 도메인 이벤트 정의 (`CouponIssuedEvent`)
    - 이벤트 발행 인터페이스 정의 (`EventPublisher`)
    - 이벤트 리스너 구현 (후처리 로직 분리)
    - 비동기 이벤트 처리 설정 (`@Async`, `TaskExecutor`)
-[ ]  동시성 오류 TC 작성 (락 없이 쿠폰 발행 시 재고 문제 확인)
    - 여러 스레드가 동시에 쿠폰 발급 요청
    - 발행 실패 횟수, 최종 재고 검증
# 2. 동기화 기반 제어

-[ ]  `synchronized` 도입 및 TC 작성
    - 메서드 레벨 동기화 적용
    - 코드 블록 동기화 적용
    - 성능 비교
-[ ]  `ReentrantLock` 도입 및 TC 작성
    - 락 획득 및 해제 로직 구현
    - 공정 락 및 타임 아웃 기능 테스트
    - 성능 비교
# 3. 데이터베이스 기반 제어

-[ ]  낙관적 락으로 동시성 제어, TC 작성
    - 버전 정보 활용
    - 충돌 발생 및 재시도 처리 테스트
    - 성능 비교
-[ ]  비관적 락으로 동시성 제어, TC 작성
    - `SELECT ... FOR UPDATE` 구문 활용
    - 데드락 발생 시나리오 및 예외 처리
    - 성능 비교
    - (옵션) 트랜잭션 격리 수준 설정 및 테스트

# 4. 분산 환경 제어

-[ ]  Redis 기반 로직 설계 및 TC 작성
    - Redis 클라이언트 설정
    - Redis를 이용한 원자적인 재고 감소 로직 구현 (`DECR`)
    - Redis 데이터 불일치 상황 및 예외 처리
    - 성능 비교
    - (옵션) Redis Pub/Sub을 이용한 이벤트 발행
-[ ]  분산 락 적용 및 TC 작성
    - Redisson 라이브러리를 활용한 분산 락 구현
    - 락 획득, 해제, 타임아웃 테스트
    - 동시성 제어 및 성능 테스트
-[ ] 루아 스크립트 적용
    
# 5. 추가적인 고려 사항

-[ ]  세마포어(Semaphore)를 활용한 동시 접근 제어
     - 쿠폰 발급 스레드 수 제한 테스트
-[ ]  ThreadLocal 을 활용한 스레드 안전성 확보
     - 쿠폰 발급 스레드 안전성 테스트
-[ ]  카운트다운래치(CountDownLatch), 싸이클릭 배리어(CyclicBarrier)를 이용한 테스트 케이스 작성
   - 멀티 스레드 테스트 동기화 확인
-[ ]  다양한 동시성 문제 발생 상황에 대한 테스트 케이스 작성 및 해결
    - 데드락, 기아 상태, 레이스 컨디션 등
-[ ]  각 동시성 제어 방법별 성능 측정 및 비교 분석
    - 스루풋, 응답 시간 등 성능 지표 측정
    - 상황별 최적의 동시성 제어 방법 선택 기준 제시


**각 항목별 추가 설명:**

*   **`이벤트 기반 쿠폰 발행 로직 설계`**: 도메인 이벤트 발행, 이벤트 리스너 구현, 비동기 이벤트 처리 등 이벤트 기반 아키텍처를 학습합니다.
*   **`동시성 오류 TC 작성`**: 락 없이 동시 요청 시 발생하는 문제를 명확히 확인합니다.
*   **`synchronized, ReentrantLock 도입 및 TC 작성`**: 기본 동기화 기법을 익히고 락 사용법을 익힙니다.
*   **`낙관적/비관적 락 동시성 제어, TC 작성`**: 데이터베이스 레벨에서 동시성 제어하는 방법을 학습하고, 각 락의 특징을 이해합니다.
*   **`Redis 기반 로직 설계 및 TC 작성`**: Redis를 사용하여 동시성 문제를 해결하고, 성능을 향상시킵니다.
*   **`분산 락 적용 및 TC 작성`**: 분산 환경에서 동시성 문제를 해결하는 방법을 학습합니다.
*   **`메시지 큐(Kafka, RabbitMQ)를 활용한 쿠폰 발행`**: 비동기 메시지 큐 시스템을 경험하고, 시스템의 확장성을 높입니다.
*    **`세마포어(Semaphore)를 활용한 동시 접근 제어`**: 동시 접근하는 스레드 개수를 제한하여 자원을 효율적으로 관리합니다.
*   **`ThreadLocal 을 활용한 스레드 안전성 확보`**: 스레드 안전성 문제를 해결하고, 각 스레드에 독립적인 변수를 관리합니다.
* **`카운트다운래치(CountDownLatch), 싸이클릭 배리어(CyclicBarrier)를 이용한 테스트 케이스 작성`**: 멀티 스레드 동기화 방법을 학습합니다.
*  **`다양한 동시성 문제 발생 상황에 대한 테스트 케이스 작성 및 해결`**: 실제 서비스에서 발생할 수 있는 다양한 동시성 문제를 직접 경험하고 해결해봅니다.
*   **`각 동시성 제어 방법별 성능 측정 및 비교 분석`**: 각 동시성 제어 방법의 성능을 비교하여 최적의 방법을 선택하는 기준을 학습합니다.
